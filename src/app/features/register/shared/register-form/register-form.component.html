<div class="content-wrapper">
  <div class="row">
    <div class="col-md-10">
      <mat-search-bar
        style="margin-left: 300px"
        class="text-right ml-4"
        placeholder="search by RegNo"
        (change)="onSearch($event.target.value)"
      ></mat-search-bar>
      <!-- <mat-form-field>
        <ngx-mat-search-field
          placeholder="Search by RegId"
          prefetch="true"
          [maxRows]="20"
          [dataSource]="searchFieldDataSource"
        ></ngx-mat-search-field>
      </mat-form-field> -->
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <section
        fxLayout="row wrap"
        fxLayoutAlign="center center"
        class="registerCard"
      >
        <mat-card fxFlex="200px" fxFlex.xs="100%" class="mt-4 mb-4">
          <mat-card-title>Register</mat-card-title>
          <mat-divider></mat-divider>
          <form
            [formGroup]="registerForm"
            autocomplete="off"
            novalidate
            fxLayout="column wrap"
            fxLayoutAlign="center center"
            fxLayoutGap="10px"
          >
            <mat-card-content class="mt-4">
              <p>
                <mat-form-field class="=full-width">
                  <input
                    matInput
                    type="text"
                    placeholder="Full Name"
                    formControlName="name"
                    id="name"
                  />
                  <mat-hint align="end">Enter full name</mat-hint>
                  <!-- <mat-error *ngIf="hasError('name', 'required')">Name is required</mat-error>
            <mat-error *ngIf="hasError('name', 'maxlength')">You have more than 60 characters</mat-error>-->
                </mat-form-field>
              </p>
              <p>
                <mat-form-field>
                  <input
                    matInput
                    type="text"
                    placeholder="Address"
                    formControlName="address"
                    id="lname"
                    fxlayoutalign="column"
                  />
                  <mat-hint align="end">Enter address</mat-hint>
                  <!-- <mat-error *ngIf="hasError('address', 'required')"
                >Last Name is required</mat-error
              >
              <mat-error *ngIf="hasError('address', 'maxlength')"
                >Enter last name</mat-error
              > -->
                </mat-form-field>
              </p>
              <p>
                <mat-form-field>
                  <input
                    matInput
                    type="number"
                    placeholder=" Ward number"
                    formControlName="wardNo"
                    id="lname"
                    fxlayoutalign="column"
                  />
                  <mat-hint align="end">Enter ward number</mat-hint>
                  <!--  <mat-error *ngIf="hasError('wardNum', 'required')"
                >Last Name is required</mat-error
              >
              <mat-error *ngIf="hasError('wardNum', 'maxlength')"
                >Enter last name</mat-error
              > -->
                </mat-form-field>
              </p>
              <p>
                <mat-form-field>
                  <input
                    matInput
                    type="text"
                    placeholder=" Mobile number"
                    formControlName="mobileNo"
                    id="lname"
                    fxlayoutalign="column"
                    #input
                    maxlength="10"
                  />
                  <mat-hint align="end"
                    >{{ input.value?.length || 0 }}/10, Enter mobile
                    number</mat-hint
                  >

                  <!--  <mat-error *ngIf="hasError('wardNum', 'required')"
                >Last Name is required</mat-error
              >
              <mat-error *ngIf="hasError('wardNum', 'maxlength')"
                >Enter last name</mat-error
              > -->
                </mat-form-field>
              </p>
              <p>
                <mat-form-field>
                  <input
                    matInput
                    type="text"
                    placeholder=" Email"
                    formControlName="email"
                    id="lname"
                    fxlayoutalign="column"
                  />
                  <mat-hint align="end">Enter e-mail address</mat-hint>
                  <!--  <mat-error *ngIf="hasError('wardNum', 'required')"
                >Last Name is required</mat-error
              >
              <mat-error *ngIf="hasError('wardNum', 'maxlength')"
                >Enter last name</mat-error
              > -->
                </mat-form-field>
              </p>
              <p>
                <mat-form-field>
                  <mat-label>Affiliation College</mat-label>
                  <mat-select
                    formControlName="affiliationCollege"
                    [(value)]="selected"
                  >
                    <ng-container *ngIf="mode === 'add'">
                      <mat-option
                        *ngFor="let item of affiliationCollegeList"
                        [value]="item"
                        >{{ item.name }}</mat-option
                      >
                    </ng-container>
                    <ng-container *ngIf="mode !== 'add'">
                      <mat-option [value]="affCollege">{{
                        affCollege.name
                      }}</mat-option>
                    </ng-container>
                  </mat-select>
                  <mat-hint align="end">Select college affiliation</mat-hint>
                </mat-form-field>
              </p>
              <p>
                <mat-form-field>
                  <input
                    matInput
                    type="text"
                    placeholder="College Name"
                    formControlName="collegeName"
                    id="college"
                    fxlayoutalign="column"
                  />
                  <mat-hint align="end">Enter college name</mat-hint>
                  <!--  <mat-error *ngIf="hasError('name', 'required')"
                >Last Name is required</mat-error
              >
              <mat-error *ngIf="hasError('name', 'maxlength')"
                >Enter last name</mat-error
              > -->
                </mat-form-field>
              </p>
              <p>
                <mat-form-field>
                  <input
                    matInput
                    type="text"
                    placeholder="College Address"
                    formControlName="collegeAddress"
                    id="collegeAddress"
                    fxlayoutalign="column"
                  />
                  <mat-hint align="end">Enter college address</mat-hint>
                  <!--  <mat-error *ngIf="hasError('name', 'required')"
                >Last Name is required</mat-error
              >
              <mat-error *ngIf="hasError('name', 'maxlength')"
                >Enter last name</mat-error
              > -->
                </mat-form-field>
              </p>

              <p>
                <mat-form-field>
                  <input
                    [matDatepicker]="picker"
                    matInput
                    placeholder="Choose D.O.B"
                    formControlName="dob"
                    readonly
                    (click)="picker.open()"
                    [(value)]="dob"
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                  <mat-hint align="end">Select Date of Birth(D.O.B)</mat-hint>
                </mat-form-field>
              </p>
              <!-- reg num -->
              <p>
                <mat-form-field class="=full-width">
                  <input
                    matInput
                    type="text"
                    placeholder="Registered Number"
                    formControlName="regNo"
                    id="fname"
                  />
                  <mat-hint align="end">Enter registered number</mat-hint>
                  <!-- <mat-error *ngIf="hasError('name', 'required')">Name is required</mat-error>
            <mat-error *ngIf="hasError('name', 'maxlength')">You have more than 60 characters</mat-error>-->
                </mat-form-field>
              </p>
              <!-- /reg num -->
              <p></p>
              <!-- /reg num -->
              <!-- upload licence photo  -->
              <mat-form-field>
                <div>
                  <mat-toolbar>
                    <!-- Display files names -->
                    <input
                      matInput
                      readonly
                      name="name"
                      [(value)]="selectedLicence"
                      [ngStyle]="{
                        'font-size': '14px',
                        'font-weight': '400',

                        color: 'light-grey',
                        'padding-left': '0'
                      }"
                    />

                    <!-- Browse Button -->
                    <button mat-flat-button color="primary">
                      Browse Image
                    </button>
                  </mat-toolbar>

                  <!-- Fetch selected filed on change -->
                  <input
                    type="file"
                    #fileInput
                    id="uploadFile"
                    formControlName="photoLicence"
                    name="uploadFile"
                    accept="image/*"
                    (change)="onLicenceImageChange($event)"
                  />
                  <img
                    [src]="licenceImageSrc || licenceImage"
                    *ngIf="licenceImageSrc || licenceImage"
                    height="150"
                    width="200px"
                    style="margin: 3px"
                  />
                </div>
                <mat-hint align="end">Upload licence photo</mat-hint>
              </mat-form-field>
              <!-- upload licence photo  -->

              <!--upload bill image  1-->
              <ng-container>
                <mat-form-field>
                  <div>
                    <mat-toolbar>
                      <!-- Display files names -->
                      <input
                        readonly
                        matInput
                        readonly
                        name="name"
                        [(value)]="selectedBill1"
                        [ngStyle]="{
                          'font-size': '14px',
                          'font-weight': '400',
                          color: 'light-grey'
                        }"
                      />

                      <!-- Browse Button -->
                      <button mat-flat-button color="primary">
                        Browse Image
                      </button>
                    </mat-toolbar>

                    <!-- Fetch selected filed on change -->

                    <input
                      type="file"
                      #fileInputBill
                      id="uploadFileBill"
                      formControlName="photoBill1"
                      name="uploadFileBill"
                      accept="image/*"
                      (change)="onBillImageChange1($event)"
                    />
                    <img
                      *ngIf="billImageSrc1 || billImage1"
                      [src]="billImageSrc1 || billImage1"
                      style="margin: 3px"
                    />
                  </div>
                  <mat-hint align="end">Upload Bill photo 1</mat-hint>
                </mat-form-field>
              </ng-container>
              <ng-container *ngIf="mode === 'edit'">
                <mat-form-field>
                  <mat-toolbar>
                    <!-- Display files names -->
                    <input
                      matInput
                      readonly
                      name="name"
                      [(value)]="selectedBill2"
                      [ngStyle]="{
                        'font-size': '14px',
                        'font-weight': '400',
                        color: 'light-grey'
                      }"
                    />

                    <!-- Browse Button -->
                    <button mat-flat-button color="primary">
                      Browse Image
                    </button>
                  </mat-toolbar>
                  <input
                    type="file"
                    #fileInputBill
                    id="uploadFileBill"
                    formControlName="photoBill2"
                    name="uploadFileBill"
                    accept="image/*"
                    (change)="onBillImageChange2($event)"
                  />
                  <img
                    *ngIf="billImageSrc2 || billImage2"
                    [src]="billImageSrc2 || billImage2"
                    style="margin: 3px"
                  />

                  <mat-hint align="end">Upload Bill photo 2</mat-hint>
                </mat-form-field>
              </ng-container>
              <!--/ bill imageupload-->
              <p>
                <mat-form-field>
                  <mat-label>Letter Receiver</mat-label>
                  <mat-select formControlName="letterReceiver">
                    <ng-container *ngIf="mode === 'add'">
                      <mat-option
                        *ngFor="let item of letterReceiverList"
                        [value]="item"
                        >{{ item.name }}</mat-option
                      >
                    </ng-container>
                    <ng-container *ngIf="mode !== 'add'">
                      <mat-option [value]="letterReceiver">{{
                        letterReceiver.name
                      }}</mat-option>
                    </ng-container>
                  </mat-select>
                  <mat-hint align="end">Select letter receiver</mat-hint>
                </mat-form-field>
              </p>
            </mat-card-content>

            <mat-card-actions align="end">
              <button
                mat-raised-button
                color="primary"
                (click)="onRegister()"
              >
                Save
              </button>
              <button
                type="button"
                mat-raised-button
                color="danger"
                (click)="onCancel()"
              >
                Cancel
              </button>
            </mat-card-actions>
          </form>
        </mat-card>
      </section>
    </div>
    <ng-container>
      <div class="col-md-6">
        <app-staff-login></app-staff-login>
      </div>
    </ng-container>
  </div>
</div>
